<div ng-controller="buyerCategoryCtrl">

	<div class="page-header">
		<h1>Buyer categories</h1>
	</div>

	<div class="form-group">
		<label for="category" class="control-label"> Buyer category: </label>
		<select class="form-control"
			ng-options="category as category.name for category in categories"
			ng-model="category" ng-change="editMode=true">
			<option style="background-color: #ccc" value="">Choose
				category</option>
		</select>
	</div>
	<div>
		<button class="btn btn-success" ng-click="editMode=false" ng-show="category !== null">Edit category</button>
	</div>
	<fieldset ng-disabled="editMode">
		<div
			ng-repeat="consumptionThreshold in category.consumptionThresholds">

			<hr />
			<div class="row">
				<div class="form-group col-md-4">
					<label for="from" class="control-label"> From: </label> <input
						type="number" min="0" max="100000" step="0.01"
						class="form-control" id="from"
						ng-model="consumptionThreshold.rangeFrom">
				</div>
				<div class="form-group col-md-4">
					<label for="to" class="control-label"> To: </label> <input
						type="number" min="1000" max="1000000" step="0.01"
						class="form-control" id="to" ng-model="consumptionThreshold.rangeTo">
				</div>
				<div class="form-group col-md-4">
					<label> Calculus function: </label> <select class="form-control"
						ng-options="calculusFunction as calculusFunction for calculusFunction in calculusFunctions"
						ng-model="consumptionThreshold.calculusFunction">
					</select>
				</div>
			</div>

		</div>
	</fieldset>
	<div>
		<button class="btn btn-success col-md-2" ng-click="addConsumptionThreshold()" ng-show="!editMode && category != null">Add</button>
		<button class="btn btn-success col-md-2" ng-click="saveChanges()" ng-show="!editMode && category != null">Save changes</button>
	</div>


</div>